
# Архитектурная схема проекта

## Описание модулей и их взаимодействия

Проект состоит из 7 модулей, которые работают в единой экосистеме, обеспечивая функциональность для пользователей, администратора и автоматических операций. Ниже приведена структура взаимодействия.

---

## **1. Бэкэнд (Django)**
- Центральный компонент системы, связывающий все модули.
- Предоставляет REST/GraphQL API для:
  - Фронтенда.
  - Модулей LLM, кошельков, статистики и Telegram.
- Управляет пользователями, транзакциями, и админ-панелью.

---

## **2. Фронтенд**
- Взаимодействует с пользователями через браузер или мобильные устройства.
- Получает данные от бэкэнда через REST API.
- Предоставляет:
  - UI для управления аккаунтом.
  - Визуализацию статистики.
  - Доступ к платежам и кошелькам.

---

## **3. Сервер с LLM-моделями**
- Обрабатывает задачи с использованием трех моделей:
  1. **Саппорт пользователей:** Решение вопросов через чат.
  2. **Генерация комментариев:** Привлечение внимания в Telegram.
  3. **Создание изображений:** Генерация промо-материалов.
- Общается с бэкэндом через API.

---

## **4. Модуль операций с кошельками**
- Интеграция с системами криптоплатежей.
- Функции:
  - Прием платежей.
  - Миксирование криптовалют.
  - Вывод средств.
- Логика обработки транзакций:
  - Использует асинхронность Celery.

---

## **5. Redis и Celery Worker**
- Обеспечивает асинхронную обработку задач:
  - Уведомления.
  - Автоматизация событий.
  - Очереди задач.
- Используется всеми модулями для повышения производительности.

---

## **6. Модуль сбора статистики**
- Сбор и анализ данных о:
  - Активности пользователей.
  - Финансовых транзакциях.
  - Данных из Telegram-ботов.
- Предоставляет:
  - Визуализацию данных через Grafana/Metabase.
  - Экспорт данных для отчетов.

---

## **7. Модуль Telegram-ботов**
- Рассылки рекламы.
- Чат с клиентами.
- Интеграция с LLM для:
  - Ответов на вопросы.
  - Мониторинга активностей.
- Взаимодействует с Redis и базой данных.

---

## Визуализация архитектуры

```plaintext
                +-------------------------+
                |      Frontend (UI)      |
                +-------------------------+
                          |
            +-------------v----------------+
            |         Backend (Django)     |
            +-------------+----------------+
                          |
  +-----------+-----------+----------+-----------+
  |           |                      |           |
+v+      +----v----+          +------+------++---v---+
|LLM|    | Wallet  |          | Statistics  ||Redis   |
+--+     | Module  |          | Module      ||+Celery |
  |      +---------+          +-------------++-------+
  |              |                 |                 |
  +--------------+-----------------+-----------------+
                          |
                 +--------v---------+
                 | Telegram Bots    |
                 +------------------+
```

---

### Потоки данных:
1. **Frontend ↔ Backend:** REST API для обработки пользовательских запросов.
2. **Backend ↔ LLM:** HTTP API для задач генерации текста и изображений.
3. **Backend ↔ Wallets:** Асинхронные запросы для обработки платежей.
4. **Backend ↔ Statistics:** Запрос данных для построения аналитики.
5. **Backend ↔ Telegram Bots:** Асинхронные взаимодействия для рассылок и чатов.

